{% extends "base.html" %}

{% block title %}My Bookings - Synca{% endblock %}

{% block content %}
<section class="bg-light py-5">
    <div class="container">
        <h1 class="mb-2">My Bookings</h1>
        <p class="text-muted mb-0">Review upcoming stays, stay on top of active bookings, and revisit your past experiences.</p>
    </div>
</section>

<section class="py-4">
    <div class="container">
        <ul class="nav nav-tabs flex-nowrap overflow-auto mb-4" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab-all" data-bs-toggle="tab" data-bs-target="#pane-all" type="button" role="tab">
                    All ({{ status_counts.all }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-active" data-bs-toggle="tab" data-bs-target="#pane-active" type="button" role="tab">
                    Active ({{ status_counts.active }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-pending" data-bs-toggle="tab" data-bs-target="#pane-pending" type="button" role="tab">
                    Pending ({{ status_counts.pending }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-upcoming" data-bs-toggle="tab" data-bs-target="#pane-upcoming" type="button" role="tab">
                    Upcoming ({{ status_counts.upcoming }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-completed" data-bs-toggle="tab" data-bs-target="#pane-completed" type="button" role="tab">
                    Completed ({{ status_counts.completed }})
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-cancelled" data-bs-toggle="tab" data-bs-target="#pane-cancelled" type="button" role="tab">
                    Cancelled ({{ status_counts.cancelled }})
                </button>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane fade show active" id="pane-all" role="tabpanel" aria-labelledby="tab-all">
                {% include 'partials/booking_cards.html' with booking_list=bookings empty_message="You don't have any bookings yet." %}
            </div>
            <div class="tab-pane fade" id="pane-active" role="tabpanel" aria-labelledby="tab-active">
                {% include 'partials/booking_cards.html' with booking_list=bookings_by_status.active empty_message="No active bookings at the moment." %}
            </div>
            <div class="tab-pane fade" id="pane-pending" role="tabpanel" aria-labelledby="tab-pending">
                {% include 'partials/booking_cards.html' with booking_list=bookings_by_status.pending empty_message="No pending booking requests." %}
            </div>
            <div class="tab-pane fade" id="pane-upcoming" role="tabpanel" aria-labelledby="tab-upcoming">
                {% include 'partials/booking_cards.html' with booking_list=bookings_by_status.upcoming empty_message="No upcoming stays scheduled." %}
            </div>
            <div class="tab-pane fade" id="pane-completed" role="tabpanel" aria-labelledby="tab-completed">
                {% include 'partials/booking_cards.html' with booking_list=bookings_by_status.completed empty_message="You'll see completed bookings here." %}
            </div>
            <div class="tab-pane fade" id="pane-cancelled" role="tabpanel" aria-labelledby="tab-cancelled">
                {% include 'partials/booking_cards.html' with booking_list=bookings_by_status.cancelled empty_message="No cancelled bookings." %}
            </div>
        </div>
    </div>
</section>
{% endblock %}
